<video id="meuvideo01" width="800" height="450" controlsList="nodownload">
  <source src="http://files.cod3r.com.br/curso-web/video.mp4" type="video/mp4">
  Seu vídeo não suport a tag vídeo.
</video>
<div wm-progress="meuvideo" class="progress">
  <div></div>
</div>
<div>
  <button wm-play="meuvideo" onclick="videoPlay()"> Play </button>
  <button wm-pause="meuvideo"> Pause </button>
</div>

<style>
  .progress {
    height: 20px;
    width: 500px;
    border: solid 1px #444;
    margin: 20px;
  }

  .progress div {
    background-color: red;
    color: #fff;
    height: 100%;
    text-align: right;
    font-size: 14px;
  }

</style>

<script>
  // function videoPlay(id) {
  //   const video = document.getElementById(id);

  //   document.querySelector(`[wm-play=${id}]`).onclick = e => video.play()
  //   document.querySelector(`[wm-pause=${id}]`).onclick = e => video.pause()

  //   setInterval(() => {
  //     const porcentagem = video.currentTime / video.duration * 100;
  //     const valorDiv = document.querySelector(`[wm-progress=${id}] > div`);
  //     valorDiv.style.width = `${porcentagem}%`;
  //     valorDiv.innerHTML = `${porcentagem.toFixed(2)}%`;
      
  //   }, 500);
  // };
  function videoPlay() {
    const video = document.getElementById('meuvideo01');

    const play = document.querySelector('[wm-play]').onclick = e => video.play();
    const pause = document.querySelector('[wm-pause]').onclick = e => video.pause();

    setInterval(() => {
      const porcem = video.currentTime / video.duration * 100;
      const videoDiv = document.querySelector('[wm-progress] > div');
      videoDiv.style.width = `${porcem}%`;
      videoDiv.innerHTML = `${porcem.toFixed(1)}%`;
    },100);
  }
  videoPlay();
</script>
